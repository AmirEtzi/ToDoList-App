{% extends 'base.html' %} {% load static %} {% block content %}
<div class="container mt-5">
  <div class="d-flex justify-content-end mb-3">
    <button id="theme-toggle" class="btn btn-secondary">
      Switch to Dark Mode
    </button>
  </div>

  <link href="{% static 'css/styles.css' %}" rel="stylesheet" />

  <div class="card mb-3" style="max-width: 18rem">
    <div class="card-header" style="color: #0000ff">{{ object.category }}</div>

    <div class="card-body">
      <h5>{{ object.title }}</h5>
      <p class="card-text created-text">{{ object.created }}</p>
      <p class="card-text">{{ object.description }}</p>
    </div>
  </div>
  <a class="btn btn-danger" href="{% url 'delete_task' object.id %}">
    Delete Task
  </a>

  <script>
    const themeToggleBtn = document.getElementById("theme-toggle");
    const currentTheme = localStorage.getItem("theme") || "light";

    document.documentElement.setAttribute("data-theme", currentTheme);
    if (currentTheme === "dark") {
      themeToggleBtn.textContent = "Switch to Light Mode";
    }

    themeToggleBtn.addEventListener("click", function () {
      const theme =
        document.documentElement.getAttribute("data-theme") === "dark"
          ? "light"
          : "dark";
      document.documentElement.setAttribute("data-theme", theme);
      localStorage.setItem("theme", theme);
      themeToggleBtn.textContent =
        theme === "dark" ? "Switch to Light Mode" : "Switch to Dark Mode";
    });
  </script>
  {% endblock content %}
</div>
